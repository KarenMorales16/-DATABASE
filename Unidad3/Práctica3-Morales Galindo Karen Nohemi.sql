
--Ejercicio Join

--Crea una BD, denominada Alumnos
CREATE DATABASE UNI3ALUMNO
USE UNI3ALUMNO
--Crea las tablas: 
--Carrera (IdCarrera, carrera)
CREATE TABLE CARRERA 
(
IDCARRERA INT PRIMARY KEY NOT NULL,
CARRERA VARCHAR (30)
)

--Alumno (NoMatricula, nombre, idCarrera)
CREATE TABLE ALUMNO 
(
NOMATRICULA INT PRIMARY KEY NOT NULL, 
NOMBRE VARCHAR (30),
IDCARRERA INT FOREIGN KEY REFERENCES CARRERA(IDCARRERA)
)

--Materia(IdMateria, Materia)
CREATE TABLE MATERIA 
(
IDMATERIA INT PRIMARY KEY NOT NULL,
MATERIA VARCHAR (30)
)

--AlumnoMateria(NoMatricula,IdMateria, Periodo, Calif)
CREATE TABLE ALUMNOMATERIA 
(
IDALMNMAT INT PRIMARY KEY NOT NULL,
NOMATRICULA INT FOREIGN KEY REFERENCES ALUMNO(NOMATRICULA),
IDMATERIA INT FOREIGN KEY REFERENCES MATERIA(IDMATERIA),
PERIODO VARCHAR (30),
CALIFICACION INT
)

--Inserta 5 registros a cada tabla.
INSERT INTO CARRERA VALUES (1, 'SISTEMAS COMPUTACIONALES'),(2, 'INDUSTRIAL'), (3, 'QUIMICA'), (4, 'MECATRONICA'),(5, 'ELECTROMECANICA'),(6,'MECATRONICA')
INSERT INTO ALUMNO VALUES (16210514, 'MARYURI CHAVEZ', 1), (16210536, 'YAHARA HERNANDEZ', 2), (16210977, 'KAREN MORALES', 3),(16210980, 'MANUEL RODRIGUEZ', 4), (16210500, 'JESUS ESCOBEDO', 5),(16210519, 'EDUARDO', 2)
INSERT INTO MATERIA VALUES (1, 'BASE DE DATOS'), (2, 'GRAFICACION'), (3, 'TELECOMUNICACIONES'), (4, 'IO'), (5, 'PRINCIPIOS')
INSERT INTO ALUMNOMATERIA VALUES (1, 16210514, 1, 'ENE - JUN 2018', 90), (2, 16210536, 2, 'ENE - JUN 2018', 100), (3, 16210977, 3, 'ENE - JUN 2018', 80),(4, 16210980, 4, 'ENE - JUN 2018', 50), (5, 16210500, 5, 'ENE - JUN 2018', 70)

SELECT * FROM CARRERA
SELECT * FROM ALUMNO
SELECT * FROM MATERIA
SELECT * FROM ALUMNOMATERIA

--Crea las siguientes consultas:
--Consulta que despliegue todos los datos de los alumnos y el nombre de la carrera que cursan.
SELECT * FROM ALUMNO 
INNER JOIN CARRERA 
ON ALUMNO.IDCARRERA = CARRERA.IDCARRERA

--Consulta que despliegue los datos de las carreras, independiente a si no hay ningún estudiante en esa carrera.
SELECT * FROM CARRERA
 LEFT OUTER JOIN ALUMNO
ON ALUMNO.IDCARRERA = CARRERA.IDCARRERA

-

--Despliega los datos de los alumnos y las asignaturas que cursa.
select ALUMNO.NOMATRICULA,ALUMNO.NOMBRE,ALUMNO.IDCARRERA,ALUMNOMATERIA.IDMATERIA,MATERIA.MATERIA from
((ALUMNO inner join ALUMNOMATERIA ON ALUMNO.NOMATRICULA=ALUMNOMATERIA.NOMATRICULA) inner join MATERIA on ALUMNOMATERIA.IDMATERIA=MATERIA.IDMATERIA)

--Despliega los datos de las asignaturas de manera independiente a sí la cursa alguien.
SELECT MATERIA.IDMATERIA,MATERIA.MATERIA,ALUMNOMATERIA.IDMATERIA, ALUMNO.NOMBRE,ALUMNOMATERIA.PERIODO,ALUMNOMATERIA.CALIFICACION
FROM ((MATERIA LEFT OUTER JOIN ALUMNOMATERIA ON MATERIA.IDMATERIA = ALUMNOMATERIA.IDMATERIA)
INNER JOIN ALUMNO ON ALUMNO.NOMATRICULA = ALUMNOMATERIA.NOMATRICULA)

--Despliega los datos de los estudiantes y las asignaturas (utiliza full outer join)
SELECT *FROM ALUMNOMATERIA FULL OUTER JOIN MATERIA ON ALUMNOMATERIA.IDMATERIA=MATERIA.IDMATERIA